import{B as e,C as t,E as n,S as r,U as i,q as a,t as o,tn as s,v as c,w as l,x as u}from"./chunks/vue.runtime.esm-bundler.CJTU9PXy.js";import{l as d}from"./chunks/client.BLX9xis_.js";o();var f={class:`border-t-1 border-b-1 border-l-none border-r-none border-solid border-t-gray-700 border-b-gray-700 pa-4 my-4`},p=n({__name:`solar-system`,setup(t){return e(()=>{let e=new Image,t=new Image,n=new Image;r();function r(){e.src=d(`https://lukecheng2.oss-cn-chengdu.aliyuncs.com/public/img/canvas_sun.png`),t.src=d(`https://lukecheng2.oss-cn-chengdu.aliyuncs.com/public/img/canvas_moon.png`),n.src=d(`https://lukecheng2.oss-cn-chengdu.aliyuncs.com/public/img/canvas_earth.png`),window.requestAnimationFrame(i)}function i(){let r=document.getElementById(`solar-system`).getContext(`2d`);r.globalCompositeOperation=`destination-over`,r.clearRect(0,0,300,300),r.fillStyle=`rgba(0, 0, 0, 0.4)`,r.strokeStyle=`rgba(0, 153, 255, 0.4)`,r.save(),r.translate(150,150);let a=new Date;r.rotate(2*Math.PI/60*a.getSeconds()+2*Math.PI/6e4*a.getMilliseconds()),r.translate(105,0),r.fillRect(0,-12,50,24),r.drawImage(n,-12,-12),r.save(),r.rotate(2*Math.PI/6*a.getSeconds()+2*Math.PI/6e3*a.getMilliseconds()),r.translate(0,28.5),r.drawImage(t,-3.5,-3.5),r.restore(),r.restore(),r.beginPath(),r.arc(150,150,105,0,Math.PI*2,!1),r.stroke(),r.drawImage(e,0,0,300,300),window.requestAnimationFrame(i)}}),(e,t)=>(i(),u(`div`,f,t[0]||=[c(`canvas`,{id:`solar-system`,width:`300`,height:`300`,class:`border border-solid border-red`},null,-1)]))}});o();var m={id:`mouse-tracking-animation`,width:`300`,height:`300`},h=300,g=300,_=n({__name:`mouse-tracking-animation`,setup(t){return e(()=>{var e=document.getElementById(`mouse-tracking-animation`),t=e.getContext(`2d`);let n={x:g/2,y:h/2};function r(){for(var e=`0123456789ABCDEF`,t=`#`,n=0;n<6;n++)t+=e[Math.ceil(Math.random()*15)];return t}let i=[];for(var a=0;a<10;a++){var o=new c(5,`red`,2);i.push(o)}t.lineWidth=1,t.globalAlpha=.5,s(),l(),window.onresize=function(){s()};function s(){e.height=h,e.width=g;for(var t=0;t<101;t++)i[t]=new c(4,r(),.02)}function c(e,r,i){this.lineWidth=e,this.randomColor=r,this.theta=Math.random()*Math.PI*2,this.unitRange=i,this.radius=Math.random()*150,this.x=n.x+Math.cos(this.theta)*this.radius,this.y=n.y+Math.sin(this.theta)*this.radius,this.dr=function(){let e={x:this.x,y:this.y};this.theta+=this.unitRange,this.x=n.x+Math.cos(this.theta)*this.radius,this.y=n.y+Math.sin(this.theta)*this.radius,t.beginPath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.randomColor,t.moveTo(e.x,e.y),t.lineTo(this.x,this.y),t.stroke(),t.closePath()}}function l(){requestAnimationFrame(l),t.fillStyle=`rgba(0, 0, 0, 0.04)`,t.fillRect(0,0,e.width,e.height),i.forEach(e=>{e.dr()})}}),(e,t)=>(i(),u(`canvas`,m))}});o();var v={class:`border-t-1 border-b-1 border-l-none border-r-none border-solid border-t-gray-700 border-b-gray-700 pa-4 my-4`},y=n({__name:`clock`,setup(t){return e(()=>{function e(){var t=new Date,n=document.getElementById(`clock`).getContext(`2d`);n.save(),n.clearRect(0,0,300,300),n.translate(150,150),n.rotate(-Math.PI/2),n.strokeStyle=`black`,n.fillStyle=`white`,n.lineWidth=7,n.lineCap=`round`,n.save();for(var r=0;r<12;r++)n.beginPath(),n.rotate(Math.PI/6),n.moveTo(130,0),n.lineTo(150,0),n.stroke();for(n.restore(),n.save(),n.lineWidth=5,r=0;r<60;r++)r%5!=0&&(n.beginPath(),n.moveTo(145,0),n.lineTo(150,0),n.stroke()),n.rotate(Math.PI/30);n.restore();var i=t.getSeconds(),a=t.getMinutes(),o=t.getHours();o=o>=12?o-12:o,n.fillStyle=`black`,n.save(),n.rotate(o*(Math.PI/6)+Math.PI/360*a+Math.PI/21600*i),n.lineWidth=14,n.beginPath(),n.moveTo(-20,0),n.lineTo(80,0),n.stroke(),n.restore(),n.save(),n.rotate(Math.PI/30*a+Math.PI/1800*i),n.lineWidth=10,n.beginPath(),n.moveTo(-28,0),n.lineTo(112,0),n.stroke(),n.restore(),n.save(),n.rotate(i*Math.PI/30),n.strokeStyle=`#D40000`,n.fillStyle=`#D40000`,n.lineWidth=6,n.beginPath(),n.moveTo(-30,0),n.lineTo(83,0),n.stroke(),n.beginPath(),n.arc(0,0,10,0,Math.PI*2,!0),n.fill(),n.beginPath(),n.arc(95,0,10,0,Math.PI*2,!0),n.stroke(),n.fillStyle=`rgba(0,0,0,0)`,n.arc(0,0,3,0,Math.PI*2,!0),n.fill(),n.restore(),n.beginPath(),n.lineWidth=1,n.strokeStyle=`#325FA2`,n.arc(0,0,142,0,Math.PI*2,!0),n.stroke(),n.restore(),window.requestAnimationFrame(e)}window.requestAnimationFrame(e)}),(e,t)=>(i(),u(`div`,v,t[0]||=[c(`canvas`,{id:`clock`,width:`300`,height:`300`,class:`border border-solid border-red`},null,-1)]))}});o();const b=JSON.parse(`{"title":"canvas 动画","description":"","frontmatter":{"label":"canvas"},"headers":[{"level":2,"title":"太阳系动画","slug":"太阳系动画","link":"#太阳系动画","children":[]},{"level":2,"title":"时钟","slug":"时钟","link":"#时钟","children":[]},{"level":2,"title":"鼠标跟踪动画","slug":"鼠标跟踪动画","link":"#鼠标跟踪动画","children":[]}],"relativePath":"useful/canvas/07 canvas 动画.md","filePath":"useful/canvas/07 canvas 动画.md","lastUpdated":1710946996000}`);var x=Object.assign({name:`useful/canvas/07 canvas 动画.md`},{setup(e){return(e,n)=>{let o=a(`clientOnly`);return i(),u(`div`,null,[n[0]||=r("",4),l(o,null,{default:s(()=>[l(p)]),_:1}),n[1]||=r("",2),l(o,null,{default:s(()=>[l(y)]),_:1}),n[2]||=c(`h2`,{id:`鼠标跟踪动画`,tabindex:`-1`},[t(`鼠标跟踪动画 `),c(`a`,{class:`header-anchor`,href:`#鼠标跟踪动画`,"aria-label":`Permalink to “鼠标跟踪动画”`},`​`)],-1),n[3]||=c(`p`,null,`c 如何实现 canvas 的拖尾效果？`,-1),n[4]||=c(`p`,null,`这里的技巧在于，在重绘制下一帧前，不是调用 clearRect 清除掉上一帧的内容，而是在上一帧基础上加上一个半透明蒙层，然后继续画下一帧。画的帧数多了，也就有了拖尾效果，拖尾效果的长短，跟蒙层的透明度有关，透明度越小，拖尾越长。`,-1),n[5]||=c(`p`,null,[c(`a`,{href:`https://www.cnblogs.com/imgss/p/10387222.html`,target:`_blank`,rel:`noreferrer`},`https://www.cnblogs.com/imgss/p/10387222.html`)],-1),l(o,null,{default:s(()=>[l(_)]),_:1})])}}});export{b as __pageData,x as default};