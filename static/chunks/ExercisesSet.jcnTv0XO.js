import{$ as e,B as t,C as n,E as r,G as i,U as a,_ as o,b as s,p as c,t as l,tC as u,tE as d,tb as f,tp as p,v as m,w as h,x as g}from"./vue.runtime.esm-bundler.CJTU9PXy.js";import{n as _,r as v,t as y}from"./LinkSet.O-3jGJPu.js";l();var b=[`onClick`],x={class:`mt-2`},S={key:0},C=[`onClick`],w={key:0,class:`i-twemoji:star`},T=r({__name:`ExercisesSet`,props:{originalData:{default:()=>[]},idName:{default:``},labelAliasList:{default:()=>[]},hightLabels:{default:()=>[]}},setup(r){let l=r,T=_();function E(e,t,n){T.visitedLinks.push({cateIndex:t,labelIndex:n})}let D=l.originalData,O=D.length;function k(e){let t=new Set;e.forEach(e=>{let n=e.label;if(n&&n.length)if(Array.isArray(n))for(let e of n)t.add(e);else t.add(n)});let n=Array.from(t),r=l.hightLabels,i=n.filter(e=>r.includes(e)),a=n.filter(e=>!r.includes(e));return[...i,...a]}let A=k(D);function j(e){T.visitedLinks=[],N.value=e}let M=[`标签分类`,...l.labelAliasList.map(e=>e.labelAlias)],N=p(``),P=`selectedLabel`+l.idName;e(N,()=>{localStorage.setItem(P,N.value)});let F=p(0),I=`labelAliasIndexKey`+l.idName;e(F,()=>{localStorage.setItem(I,F.value)}),t(()=>{let e=localStorage.getItem(I);e&&(F.value=Number(e));let t=localStorage.getItem(P);t&&(N.value=t)});function L(e){T.visitedLinks=[],F.value=e,F.value>=M.length&&(F.value=0)}let R=o(()=>{if(F.value===0)return N.value?v(D.filter(e=>typeof e.label==`string`?N.value===e.label:Array.isArray(e.label)?e.label.includes(N.value):!1).map(e=>({...e,label:N.value}))):v(D);{let e=l.labelAliasList[F.value-1].key;return v(D.map(t=>({...t,label:t[e]})))}});return(e,t)=>(a(),g(c,null,[m(`div`,null,[(a(),g(c,null,i(M,(e,t)=>m(`div`,{class:u([`rounded-8px cursor-pointer px-3 py-1 inline-block mr-1 mt-1 border border-solid border-#dcdfe6`,F.value===t?`bg-#409eff text-white`:`text-#606266`]),onClick:e=>L(t)},d(e),11,b)),64))]),m(`div`,x,`总题目数：`+d(f(O)),1),F.value===0?(a(),g(`div`,S,[m(`div`,null,`共有 `+d(f(A).length)+` 个标签`,1),m(`div`,{class:u([`rounded-8px cursor-pointer px-3 py-1 inline-block mr-1 mt-1 border border-solid border-#dcdfe6`,N.value===``?`bg-#1867c0 text-white`:`bg-#e3ecf7 text-#1c69c1`]),onClick:t[0]||=e=>j(``)},`全部题目`,2),m(`div`,null,[(a(!0),g(c,null,i(f(A),(t,r)=>(a(),g(`span`,{class:u([`rounded-8px cursor-pointer px-3 py-1 inline-block mr-1 mt-1 border border-solid border-#dcdfe6`,N.value===t?`bg-#1867c0 text-white`:`bg-#e3ecf7 text-#1c69c1`]),onClick:e=>j(t)},[n(d(r+1)+`-`+d(t)+` `,1),e.hightLabels.includes(t)?(a(),g(`span`,w,`\xA0\xA0\xA0`)):s(``,!0)],10,C))),256))])])):s(``,!0),h(y,{data:R.value,onClickLink:E},null,8,[`data`])],64))}});export{T as t};