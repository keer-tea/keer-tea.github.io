import{C as e,S as t,U as n,b as r,c as i,p as a,t as o,tE as s,tp as c,tr as l,v as u,w as d,x as f}from"./chunks/vue.runtime.esm-bundler.CJTU9PXy.js";import{t as p}from"./chunks/plugin-vue_export-helper.BlZgCg_Z.js";o();var m={props:{},data(){return{isShowModifyModal:!1,inModalProductNo:``,errorMessage:!1}},computed:{bizPhoneNo:{set(e){let t=e.replace(/\s/g,``);this.inModalProductNo=t,/^1[3456789]\d{9}$/.test(t)?this.errorMessage=!1:this.errorMessage=!0},get(){return this.formatPhone(this.inModalProductNo)}}},methods:{show(e){this.isShowModifyModal=!0,this.inModalProductNo=e,this.$nextTick(()=>{this.$refs.modifyPNInput.focus()})},formatPhone(e){return(e||``).replace(/\s/g,``).replace(/(^\d{3})(?=\d)/g,`$1 `).replace(/(\d{4})(?=\d)/g,`$1 `).replace(/(\d{4})(?=\d)/g,`$1 `)},confirm(e){e?/^1[3456789]\d{9}$/.test(this.inModalProductNo)?(this.$emit(`confirmModifyProductNo`,this.inModalProductNo),this.isShowModifyModal=!1):this.errorMessage=!0:(this.errorMessage=!1,this.isShowModifyModal=!1)}}},h={key:0,class:`fixed left-0 top-0 w-full h-full bg-black/50 z-999`},g={class:`fixed bg-white left-50% top-50% -translate-x-1\\/2 -translate-y-1\\/2 z-9999 border-rounded`},_={class:`w-281px pt-24px`},v={class:`flex flex-col px-24px`},y={class:`box-border p-10px w-full text-13px flex items-center h-25px text-#ee0a24`},b={key:0},x={class:`text-17px text-#242424 flex items-center justify-center text-center h-45px`};function S(e,t,a,o,s,c){return s.isShowModifyModal?(n(),f(`div`,h,[u(`div`,g,[u(`div`,_,[t[4]||=u(`div`,{class:`text-center font-600 text-17px color-#242424 mb-15px`},` 修改手机号 `,-1),u(`div`,v,[l(u(`input`,{"onUpdate:modelValue":t[0]||=e=>c.bizPhoneNo=e,class:`text-15px box-border p-10px w-full outline-unset border-none rounded-8px bg-#f2f2f2 placeholder-#aaa`,ref:`modifyPNInput`,maxlength:`13`,placeholder:`请输入你要修改的手机号`,type:`tel`},null,512),[[i,c.bizPhoneNo]]),u(`div`,y,[s.errorMessage?(n(),f(`div`,b,`手机号输入有误`)):r(``,!0)])]),u(`div`,x,[u(`div`,{class:`relative flex items-center justify-center flex-auto text-#333 rounded-8px h-45px after:absolute after:left-0 after:top-0 after:w-100% after:h-1px after:bg-#e9e9e9 after:scale-y-50`,onClick:t[1]||=e=>c.confirm(!1)},` 取消 `),t[3]||=u(`div`,{class:`h-full w-1px bg-#e9e9e9 scale-x-50 flex-none`},null,-1),u(`div`,{class:`relative flex items-center justify-center flex-auto text-#333 rounded-8px h-45px after:absolute after:left-0 after:top-0 after:w-100% after:h-1px after:bg-#e9e9e9 after:scale-y-50`,onClick:t[2]||=e=>c.confirm(!0)},` 确认 `)])])])])):r(``,!0)}var C=p(m,[[`render`,S]]);o();var w={props:{},data(){return{isShowModifyModal:!1,inModalProductNo:``,errorMessage:``}},methods:{show(e){this.isShowModifyModal=!0,this.$nextTick(()=>{this.setValue(e),this.$refs.modifyPNInput.focus()})},onInput(e){let t=e.target.value,n=this.getOnlyNumber(t);this.setValue(n)},setValue(e){let t=e.length;t<=3||(3<t&&t<=7?e=`${e.substring(0,3)} ${e.substring(3)}`:7<t&&(e=`${e.substring(0,3)} ${e.substring(3,7)} ${e.substring(7)}`)),this.$refs.modifyPNInput.value=e,this.isOK()},getOnlyNumber(e){return e.replace(/\D/g,``)},getRealTel(){return this.getOnlyNumber(this.$refs.modifyPNInput.value)},confirm(e){e?this.isOK()&&(this.$emit(`confirmModifyProductNo`,this.getRealTel()),this.isShowModifyModal=!1):this.isShowModifyModal=!1},isOK(){let e=/^1[3456789]\d{9}$/,t=this.getRealTel();return e.test(t)?(this.errorMessage=``,!0):(this.errorMessage=`手机号格式错误`,!1)}}},T={key:0,class:`fixed left-0 top-0 w-full h-full bg-black/50 z-999`},E={class:`fixed bg-white left-50% top-50% -translate-x-1\\/2 -translate-y-1\\/2 z-9999 border-rounded`},D={class:`w-281px pt-24px`},O={class:`flex flex-col px-24px`},k={class:`box-border p-10px w-full text-13px flex items-center h-25px text-#ee0a24`},A={class:`text-17px text-#242424 flex items-center justify-center text-center h-45px`};function j(e,t,i,a,o,c){return o.isShowModifyModal?(n(),f(`div`,T,[u(`div`,E,[u(`div`,D,[t[4]||=u(`div`,{class:`text-center font-600 text-17px color-#242424 mb-15px`},`修改手机号`,-1),u(`div`,O,[u(`input`,{ref:`modifyPNInput`,placeholder:`请输入你要修改的手机号`,type:`tel`,maxlength:`13`,onInput:t[0]||=(...e)=>c.onInput&&c.onInput(...e)},null,544),u(`div`,k,s(o.errorMessage),1)]),u(`div`,A,[u(`div`,{class:`relative flex items-center justify-center flex-auto text-#333 rounded-8px h-45px after:absolute after:left-0 after:top-0 after:w-100% after:h-1px after:bg-#e9e9e9 after:scale-y-50`,onClick:t[1]||=e=>c.confirm(!1)},` 取消 `),t[3]||=u(`div`,{class:`h-full w-1px bg-#e9e9e9 scale-x-50 flex-none`},null,-1),u(`div`,{class:`relative flex items-center justify-center flex-auto text-#333 rounded-8px h-45px after:absolute after:left-0 after:top-0 after:w-100% after:h-1px after:bg-#e9e9e9 after:scale-y-50`,onClick:t[2]||=e=>c.confirm(!0)},` 确认 `)])])])])):r(``,!0)}var M=p(w,[[`render`,j]]);o();var N={class:`border-rounded border border-gray border-solid p-20px text-gray flex items-center w-full box-border`},P={class:`ml-auto`},F={__name:`index`,props:{num:{type:Number,required:!0}},setup(e){let t=e,r=c(`19122544462`),i=c(null),o=c(null);function l(){t.num===1?i.value.show(r.value):o.value.show(r.value)}function p(e){r.value=e}return(e,t)=>(n(),f(a,null,[u(`div`,N,[t[0]||=u(`span`,null,`手机号`,-1),u(`span`,P,s(r.value),1),t[1]||=u(`span`,{class:`w-0.5px self-stretch h-20px mx-10px bg-gray`},null,-1),u(`span`,{class:`color-#4a7bff cursor-grab`,onClick:l},`修改`)]),d(C,{ref_key:`modifyTelModal1`,ref:i,onConfirmModifyProductNo:p},null,512),d(M,{ref_key:`modifyTelModal2`,ref:o,onConfirmModifyProductNo:p},null,512)],64))}};o();const I=JSON.parse(`{"title":"输入框输入手机号分隔为 344 格式","description":"","frontmatter":{"label":["actual combat"]},"headers":[{"level":2,"title":"计算属性的 get 和 set","slug":"计算属性的-get-和-set","link":"#计算属性的-get-和-set","children":[]},{"level":2,"title":"命令式编程","slug":"命令式编程","link":"#命令式编程","children":[]},{"level":2,"title":"index.vue 文件：","slug":"index-vue-文件","link":"#index-vue-文件","children":[]},{"level":2,"title":"弹框一代码","slug":"弹框一代码","link":"#弹框一代码","children":[]},{"level":2,"title":"弹框二代码","slug":"弹框二代码","link":"#弹框二代码","children":[]}],"relativePath":"useful/前端效果实现/输入框输入手机号分隔为 344 格式.md","filePath":"useful/前端效果实现/输入框输入手机号分隔为 344 格式.md","lastUpdated":1709816942000}`);var L=Object.assign({name:`useful/前端效果实现/输入框输入手机号分隔为 344 格式.md`},{setup(r){return(r,i)=>(n(),f(`div`,null,[i[0]||=t("",5),d(F,{num:1}),i[1]||=u(`h2`,{id:`命令式编程`,tabindex:`-1`},[e(`命令式编程 `),u(`a`,{class:`header-anchor`,href:`#命令式编程`,"aria-label":`Permalink to “命令式编程”`},`​`)],-1),i[2]||=u(`p`,null,`不可以删除空格`,-1),d(F,{num:2}),i[3]||=t("",6)]))}});export{I as __pageData,L as default};